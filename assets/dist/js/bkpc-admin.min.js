(()=>{var e,a={39:()=>{var o=window.BKPC||{},n=jQuery;o.ajaxBeforeSend=function(e){e.prop("disabled",!0),o.startTimer(n(".bkpc-timer")),o.startProgressBar(n("body")),o.startProgressNotice()},o.ajaxSuccess=function(e,t){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=(o.stopTimer(n(".bkpc-timer")),o.stopProgressBar(n("body")),o.stopProgressNotice(),"string"!=typeof t&&t.data||t);o.showToast(t,"success"),!0===a&&o.reloadAllBackups(e)},o.ajaxError=function(e,t){o.stopTimer(n(".bkpc-timer")),o.stopProgressBar(n("body")),o.stopProgressNotice(),o.showToast(t,"error"),o.reloadAllBackups(e)}},62:()=>{var a=window.BKPC||{},o=jQuery;a.startProgressBar=function(e){var t;e.append(o("<div/>").addClass("bkpc-progressbar")),a.progressBarInstance=setInterval(function(){(t=o(".bkpc-progressbar").width()+10)>=o(document).width()-t?o(".bkpc-progressbar").css({width:"0px"}):o(".bkpc-progressbar").css({width:t+"px"})},100)},a.stopProgressBar=function(e){clearInterval(a.progressBarInstance),e.find(".bkpc-progressbar").remove()},a.progressBar=function(e){e.append(o("<div/>").addClass("bkpc-progressbar")),a.startProgressBar()},a.startProgressNotice=function(){a.progressNoticeInstance=setInterval(function(){o.ajax({url:bkpc.ajaxUrl,type:"POST",data:{action:"get_backup_progress",nonce:bkpc.ajaxNonce,uuid:a.uuid},success:function(e){var a;e.success&&e.data.progress&&0<e.data.progress.length&&(a="",o.each(e.data.progress,function(e,t){a+=t.message,t.done&&(a+=' <strong class="bkpc-progress-done">[Done]</strong>'),a+="<br />"}),a)&&(0===o(".bkpc-toast-container").length&&o("body").append(o("<div/>").addClass("bkpc-toast-container")),0===o("#bkpc-progress-toast").length&&(e=o("<div/>").attr("id","bkpc-progress-toast").addClass("bkpc-toast bkpc-toast-progress").html('<div class="bkpc-progress-content"></div>'),o(".bkpc-toast-container").append(e)),o("#bkpc-progress-toast .bkpc-progress-content").html(a))},error:function(){}})},1e3)},a.stopProgressNotice=function(){clearInterval(a.progressNoticeInstance);var e=o("#bkpc-progress-toast");0<e.length&&(e.addClass("bkpc-toast-hiding"),setTimeout(function(){e.remove()},200))}},107:()=>{var n=window.BKPC||{},t=jQuery;n.deleteAllBackups=function(e){e.preventDefault();var o=t(e.target);t(e.target).closest("form"),n.showModal({title:"Delete All Backups",message:"<strong>⚠️ EXTREME CAUTION:</strong> You are about to delete ALL backup files permanently.<br/><br/>This action will:<br/>• Delete all backup directories<br/>• Remove all database exports (.sql files)<br/>• Remove all content archives (.zip files)<br/>• Empty the entire .bkps directory<br/><br/><strong>This action CANNOT be undone!</strong><br/><br/>Are you absolutely sure you want to proceed?",confirmText:"Yes, Delete Everything",cancelText:"Cancel",confirmClass:"button-primary button-red",onConfirm:function(){t.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"delete_all_backups",nonce:bkpc.ajaxNonce},beforeSend:function(){n.ajaxBeforeSend(o)},success:function(e){e.success?(n.showToast(e.data.message,"success"),setTimeout(function(){location.reload()},2e3)):n.ajaxError(o,e.data.message||"Failed to delete backups.")},error:function(e,t,a){n.ajaxError(o,"Ajax error! Failed to delete all backups.")}})}})}},239:()=>{var s=window.BKPC||{},t=jQuery;s.downloadBackup=function(e){e.preventDefault();var o=t(e.target),n=t(e.target).closest("form");s.setStatus(n.closest("table").find("td"),"wait"),t.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"download_backup",nonce:bkpc.ajaxNonce,uuid:n.find("input[name=uuid]").val()},beforeSend:function(){s.ajaxBeforeSend(o)},success:function(e,t,a){s.setStatus(n.closest("table").find("td"),"success"),s.ajaxSuccess(o,e)},error:function(e,t,a){s.setStatus(n.closest("table").find("td"),"error"),s.ajaxError(o,"Ajax error! Backup download failed.")}})}},243:()=>{var e=window.BKPC||{},o=jQuery;e.resetSettings=function(e){e.preventDefault();var e=o(e.target).closest(".bkpc-admin"),t=e.find(".bkpc-notice-container"),a=e.find(".bkpc-loading-bar");window.confirm("Are you sure you want to RESET ALL options to their defaults?")&&(a.addClass("bkpc-loading-bar-active"),t.removeClass("bkpc-notice-container-active bkpc-notice-success bkpc-notice-error"),t.html(""),o.ajax({url:bkpc.ajaxUrl,type:"POST",data:{action:"bkpc_reset_settings",_wpnonce:bkpc.ajaxNonce},success:function(e){a.removeClass("bkpc-loading-bar-active"),t.addClass("bkpc-notice-container-active"),e.success&&e.data?(t.addClass("bkpc-notice-success"),t.html("<p><strong>"+e.data.message+"</strong></p>"),o("html, body").animate({scrollTop:0},"fast"),setTimeout(function(){location.reload(!0)},2e3)):(t.addClass("bkpc-notice-error"),e=e.data&&e.data.message?e.data.message:"An error occurred while resetting settings.",t.html("<p><strong>"+e+"</strong></p>"))},error:function(){a.removeClass("bkpc-loading-bar-active"),t.addClass("bkpc-notice-container-active bkpc-notice-error"),t.html("<p><strong>An error occurred while resetting settings.</strong></p>")}}))}},297:()=>{var e=window.BKPC||{},o=jQuery;e.toggleDrawer=function(e){e.preventDefault();var e=o(e.currentTarget),t=e.next(".bkpc-drawer-content"),a=e.find(".bkpc-drawer-icon");e.toggleClass("bkpc-drawer-active"),t.toggleClass("bkpc-drawer-open"),e.hasClass("bkpc-drawer-active")?a.removeClass("dashicons-arrow-right-alt2").addClass("dashicons-arrow-down-alt2"):a.removeClass("dashicons-arrow-down-alt2").addClass("dashicons-arrow-right-alt2")}},307:()=>{var a=window.BKPC||{},e=jQuery;a.generateSecureUUID=function(t){e.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"generate_secure_uuid",nonce:bkpc.ajaxNonce},success:function(e){e.success&&e.data.uuid?(a.uuid=e.data.uuid,"function"==typeof t&&t(e.data.uuid)):(a.uuid=Math.floor((new Date).getTime()/1e3),"function"==typeof t&&t(a.uuid))},error:function(){a.uuid=Math.floor((new Date).getTime()/1e3),"function"==typeof t&&t(a.uuid)}})}},333:()=>{var r=window.BKPC||{},c=jQuery;r.exportBackup=function(e){e.preventDefault();var n=c(e.target),s=c(e.target).closest("form");r.generateSecureUUID(function(e){c.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"export_backup",nonce:bkpc.ajaxNonce,uuid:e,notes:s.find('textarea[name="notes"]').val(),advanced_options:r.getTextFieldArray(c("input[name='advanced-options']:checked")),find_text:r.getTextFieldArray(c("input[name='find-text']")),replace_with_text:r.getTextFieldArray(c("input[name='replace-with-text']"))},beforeSend:function(){r.ajaxBeforeSend(n)},success:function(e,t,a){r.stopTimer(c(".bkpc-timer")),r.stopProgressBar(c("body")),r.stopProgressNotice();var e=JSON.parse(e),o=(c(".bkpc-export-notification").remove(),c('<div class="bkpc-export-notification-notice"><p>'+e+"</p></div>"));s.after(o),c("html, body").animate({scrollTop:o.offset().top-100},500),o.find(".notice-dismiss").on("click",function(){o.fadeOut(300,function(){c(this).remove()})}),n.prop("disabled",!1),s.find('textarea[name="notes"]').val("")},error:function(e,t,a){r.ajaxError(n,"Ajax error! Backup export failed.")}})})}},400:()=>{var s=window.BKPC||{},t=jQuery;s.uploadBackup=function(e){e.preventDefault();var o=t(e.target),n=t(e.target).closest("form"),e=new FormData;e.append("action","upload_backup"),e.append("nonce",bkpc.ajaxNonce),e.append("file",t('input[name="backup-file"]')[0].files[0]),t.ajax({method:"post",url:bkpc.ajaxUrl,data:e,cache:!1,processData:!1,contentType:!1,beforeSend:function(){s.ajaxBeforeSend(o)},success:function(e,t,a){s.ajaxSuccess(o,e,!0),n.find('input[name="backup-file"]+span').text("Choose Backup File...")},error:function(e,t,a){s.ajaxError(o,"Ajax error! Backup upload failed.")}})}},466:()=>{var e=window.BKPC||{},a=jQuery;e.showCustomFileUploadURL=function(e){e.preventDefault(),$elem=a(e.target),$span=a(".bkpc-custom-file-upload span").empty(),$elem.val()?$span.text($elem[0].files[0].name):$span.text("Choose Backup File...")},e.toggleAdvancedOptions=function(e){e.preventDefault(),($elem=a(e.target)).find("i.dashicons").toggleClass("dashicons-arrow-right").toggleClass("dashicons-arrow-down"),a(".bkpc-advanced-options").fadeToggle()},e.reloadAllBackups=function(e){a("#bkpc-manage-backups-container").load(" #bkpc-manage-backups-container > *"),e.prop("disabled",!1)},e.getTextFieldArray=function(e){var t=[];return e.each(function(){t.push(a(this).val())}),t},e.humanFileSize=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=t?1e3:1024;if(Math.abs(e)<o)return e+" B";for(var n=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=-1,r=Math.pow(10,a);e/=o,++s,Math.round(Math.abs(e)*r)/r>=o&&s<n.length-1;);return e.toFixed(a)+" "+n[s]},e.setStatus=function(e,t){var a=e.closest("table").find("td").css("transition","background-color 600ms ease-in-out");a.css({wait:{background:"transparent",opacity:"0.25"},success:{background:"#B8E6C1",opacity:"1"},error:{background:"#F8C4C4",opacity:"1"}}[t]||{}),"success"!==t&&"error"!==t||setTimeout(function(){a.css({background:"transparent",opacity:"1"})},2e3)}},542:()=>{var o=window.BKPC||{},n=jQuery;o.exportDownloadCleanup=function(e){var t=n(e.currentTarget).data("uuid");t&&setTimeout(function(){n.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"delete_backup",nonce:bkpc.ajaxNonce,uuid:t},success:function(e,t,a){o.showToast("Export backup cleaned up successfully! Temporary files have been removed.","success"),setTimeout(function(){location.reload()},2e3)},error:function(e,t,a){o.showToast("Failed to clean up export backup. Please delete it manually.","error")}})},2e3)},o.showToast=function(e,t){t=t||"info",0===n(".bkpc-toast-container").length&&n("body").append(n("<div/>").addClass("bkpc-toast-container"));var a=n('<div class="bkpc-toast bkpc-toast-'+t+'"><p>'+e+"</p></div>");n(".bkpc-toast-container").append(a),setTimeout(function(){a.addClass("bkpc-toast-hiding"),setTimeout(function(){a.remove()},300)},5e3)}},558:()=>{var e=window.BKPC||{},a=jQuery;e.addFindReplaceRow=function(e){e.preventDefault();var e=a(e.currentTarget),t=e.closest(".bkpc-advanced-options").find(".find-and-replace-string:last").clone();t.find("input").val("").prop("disabled",!1),e.parent().before(t),0===t.find(".bkpc-remove-find-replace-row").length&&(e=a('<a href="#" class="bkpc-remove-find-replace-row" title="Remove this row"><i class="dashicons dashicons-no-alt"></i> Remove Row</a>'),t.append(e)),t.find("input:first").focus()},e.removeFindReplaceRow=function(e){e.preventDefault();var e=a(e.currentTarget),t=e.closest(".find-and-replace-string");1<e.closest(".bkpc-advanced-options").find(".find-and-replace-string").filter(function(){return!a(this).find("input:first").prop("disabled")}).length?t.fadeOut(300,function(){a(this).remove()}):alert("You must have at least one find and replace row.")}},611:()=>{var s=window.BKPC||{},r=jQuery;s.initiateRestore=function(e){e.preventDefault();var t,a=r(e.currentTarget),o=a.closest("form").find("input[name=uuid]").val();"function"==typeof s.showRestorePreview?(t={preventDefault:function(){},currentTarget:a[0]},a.attr("data-uuid",o),s.showRestorePreview(t)):s.restoreBackupFallback(e)},s.restoreBackup=function(e){e.preventDefault();var o=r(e.currentTarget),n=o.closest("form");s.setStatus(n.closest("table").find("td"),"wait"),r.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"restore_backup",nonce:bkpc.ajaxNonce,uuid:n.find("input[name=uuid]").val()},beforeSend:function(){s.ajaxBeforeSend(o),s.startProgressNotice()},success:function(e,t,a){s.setStatus(n.closest("table").find("td"),"success"),s.ajaxSuccess(o,e)},error:function(e,t,a){s.setStatus(n.closest("table").find("td"),"error"),s.ajaxError(o,"Ajax error! Backup restore failed.")}})},s.restoreBackupFallback=function(e){e.preventDefault();var t=r(e.target);r(e.target).closest("form"),s.showModal({title:"Restore Backup",message:"<strong>Warning:</strong> Restoring this backup will overwrite all current site content, including:<br/><br/>• Database tables and data<br/>• WordPress files and uploads<br/>• Theme and plugin files<br/><br/>This action cannot be undone. Are you sure you want to proceed?",confirmText:"Restore Backup",cancelText:"Cancel",confirmClass:"button-primary button-red",onConfirm:function(){s.restoreBackup({currentTarget:t[0],preventDefault:function(){}})},onCancel:function(){}})}},698:()=>{var o=window.BKPC||{},n=jQuery;o.dismissNotice=function(e){e.preventDefault(),($elem=n(e.target)).closest(".bkpc-notice-dismiss.is-dismissible").remove()},o.showNotice=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"notice-success";n(".bkpc-notice-container").empty(),n(".bkpc-notice-container").append(n("<div/>").addClass("notice bkpc-notice-dismiss is-dismissible "+t).html('<button type="button" class="notice-dismiss bkpc-notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button><p>'+e+"</p>"))},o.showToast=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"success",t=(0===n(".bkpc-toast-container").length&&n("body").append(n("<div/>").addClass("bkpc-toast-container")),"bkpc-toast-"+t),a=n("<div/>").addClass("bkpc-toast "+t).html("<p>"+e+'</p><button type="button" class="bkpc-toast-dismiss"><span class="dashicons dashicons-no-alt"></span></button>');n(".bkpc-toast-container").append(a),a.find(".bkpc-toast-dismiss").on("click",function(){o.dismissToast(a)})},o.dismissToast=function(e){e.addClass("bkpc-toast-hiding"),setTimeout(function(){e.remove()},200)}},707:()=>{var s=window.BKPC||{},t=jQuery;s.createBackup=function(e){e.preventDefault();var o=t(e.target),n=t(e.target).closest("form");s.setStatus(n.closest("table").find("td"),"wait"),s.generateSecureUUID(function(e){t.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"create_backup",nonce:bkpc.ajaxNonce,uuid:e,notes:n.find('textarea[name="notes"]').val(),advanced_options:s.getTextFieldArray(t("input[name='advanced-options']:checked")),find_text:s.getTextFieldArray(t("input[name='find-text']")),replace_with_text:s.getTextFieldArray(t("input[name='replace-with-text']"))},beforeSend:function(){s.ajaxBeforeSend(o)},success:function(e,t,a){s.setStatus(n.closest("table").find("td"),"success"),s.ajaxSuccess(o,e),n.find('textarea[name="notes"]').val("")},error:function(e,t,a){s.setStatus(n.closest("table").find("td"),"error"),s.ajaxError(o,"Server timeout! Created backup files could be corrupted.")}})})}},743:()=>{var o=window.BKPC||{},n=jQuery;o.showModal=function(e){var t=n.extend({},{title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",confirmClass:"button-primary",onConfirm:function(){},onCancel:function(){}},e),a=(n("#bkpc-modal").remove(),n("<div/>").attr("id","bkpc-modal").addClass("bkpc-modal").html('<div class="bkpc-modal-overlay"></div><div class="bkpc-modal-content"><div class="bkpc-modal-header"><h2>'+t.title+'</h2><button type="button" class="bkpc-modal-close">&times;</button></div><div class="bkpc-modal-body"><p>'+t.message+'</p></div><div class="bkpc-modal-footer"><button type="button" class="button bkpc-modal-cancel">'+t.cancelText+'</button><button type="button" class="button '+t.confirmClass+' bkpc-modal-confirm">'+t.confirmText+"</button></div></div>"));n("body").append(a),setTimeout(function(){a.addClass("bkpc-modal-show")},10),a.find(".bkpc-modal-confirm").on("click",function(){t.onConfirm(),o.closeModal()}),a.find(".bkpc-modal-cancel, .bkpc-modal-close").on("click",function(){t.onCancel(),o.closeModal()}),a.find(".bkpc-modal-overlay").on("click",function(){t.onCancel(),o.closeModal()}),n(document).on("keydown.bkpcModal",function(e){27===e.keyCode&&(t.onCancel(),o.closeModal())})},o.closeModal=function(){var e=n("#bkpc-modal");0<e.length&&(e.removeClass("bkpc-modal-show"),setTimeout(function(){e.remove(),n(document).off("keydown.bkpcModal")},200))}},891:()=>{var n=window.BKPC||{};n.startTimer=function(e){var t,a,o=0;n.timerInstance=setInterval(function(){t=parseInt(o/60,10),a=parseInt(o%60,10),t=t<10?"0"+t:t,a=a<10?"0"+a:a,e.text(t+":"+a),o++},1e3)},n.stopTimer=function(e){clearInterval(n.timerInstance),e.empty()}},934:()=>{var s=window.BKPC||{},a=jQuery;s.deleteBackup=function(e){e.preventDefault();var o=a(e.target),n=a(e.target).closest("form");s.showModal({title:"Delete Backup",message:"Are you sure you want to delete this backup? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmClass:"button-primary button-red",onConfirm:function(){s.setStatus(n.closest("table").find("td"),"wait"),a.ajax({method:"post",url:bkpc.ajaxUrl,data:{action:"delete_backup",nonce:bkpc.ajaxNonce,uuid:n.find("input[name=uuid]").val()},beforeSend:function(){var e,t;s.ajaxBeforeSend(o),n.find("input[name=download_url]").length&&n.find("input[name=uuid]").length&&(t=n.find("input[name=download_url]").val(),e=n.find("input[name=uuid]").val()+".zip",t=a("<a/>").css("display","none").attr({href:t,download:e}),a("body").append(t),t[0].click(),t.remove())},success:function(e,t,a){s.setStatus(n.closest("table").find("td"),"success"),s.ajaxSuccess(o,e)},error:function(e,t,a){s.setStatus(n.closest("table").find("td"),"error"),s.ajaxError(o,"Ajax error! Backup delete failed.")}})},onCancel:function(){}})}},985:()=>{var s,r;s=jQuery,(r=window.BKPC||{}).showRestorePreview=function(e){e.preventDefault();var o=s(e.currentTarget),t=o.data("uuid"),e=bkpc.ajaxNonce,n=o.find("i.dashicons");o.prop("disabled",!0),n.removeClass("dashicons-update-alt").addClass("dashicons-update bkpc-spin"),s.ajax({type:"POST",dataType:"json",url:bkpc.ajaxUrl,data:{action:"restore_preview",nonce:e,uuid:t},success:function(e){o.prop("disabled",!1),n.removeClass("dashicons-update bkpc-spin").addClass("dashicons-update-alt"),e.success?r.displayRestoreModal(t,e.data):r.displayValidationErrors(e.data)},error:function(e,t,a){o.prop("disabled",!1),n.removeClass("dashicons-update bkpc-spin").addClass("dashicons-update-alt"),alert("Failed to load restore preview: "+a)}})},r.displayRestoreModal=function(e,t){var a=t.validation,t=t.preview,o='<div class="bkpc-restore-preview-modal">',o=(o=(o=(o+='<div class="bkpc-modal-overlay"></div>')+'<div class="bkpc-modal-content">'+'<div class="bkpc-modal-header">')+"<h2>Confirm Restore</h2>"+'<button class="bkpc-modal-close">&times;</button>')+"</div>"+'<div class="bkpc-modal-body">';t.backup_date&&(o=(o=o+'<div class="bkpc-preview-section">'+"<h3>Backup Information</h3>")+("<p><strong>Created:</strong> "+t.backup_date+"</p>")+"</div>"),t.notes&&(o=(o=o+'<div class="bkpc-preview-section">'+"<h3>Backup Notes</h3>")+("<p>"+r.escapeHtml(t.notes)+"</p>")+"</div>"),a.info&&0<a.info.length&&(o=(o+='<div class="bkpc-preview-section">')+"<h3>What will be restored</h3>"+'<ul class="bkpc-info-list">',a.info.forEach(function(e){o+="<li>"+e+"</li>"}),o=o+"</ul>"+"</div>"),a.warnings&&0<a.warnings.length&&(o=(o+='<div class="bkpc-preview-section bkpc-warning">')+"<h3>Warnings</h3>"+"<ul>",a.warnings.forEach(function(e){o+="<li>"+e+"</li>"}),o=o+"</ul>"+"</div>"),t.database&&(o=(o+='<div class="bkpc-preview-section">')+"<h3>Current Site Statistics</h3>"+'<table class="bkpc-preview-table">',void 0!==t.database.current_posts&&(o+="<tr><td>Published Posts:</td><td>"+t.database.current_posts+"</td></tr>"),void 0!==t.database.current_comments&&(o+="<tr><td>Comments:</td><td>"+t.database.current_comments+"</td></tr>"),void 0!==t.database.current_users&&(o+="<tr><td>Users:</td><td>"+t.database.current_users+"</td></tr>"),o=o+"</table>"+"</div>"),o=(o+='<div class="bkpc-preview-section bkpc-danger"><h3>Important</h3><p><strong>This action will:</strong></p><ul><li>Create a safety backup of your current site</li><li>Replace your current database and files with the backup</li><li>You will be able to rollback if needed</li></ul><p class="bkpc-warning-text">Make sure you have a recent backup before proceeding.</p></div></div><div class="bkpc-modal-footer"><button class="button bkpc-modal-cancel">Cancel</button>')+'<button class="button button-primary bkpc-confirm-restore" data-uuid="'+e+'">Confirm Restore</button></div></div></div>',s("body").append(o),s(".bkpc-modal-close, .bkpc-modal-cancel, .bkpc-modal-overlay").on("click",r.closeRestoreModal),s(".bkpc-confirm-restore").on("click",r.confirmRestore)},r.displayValidationErrors=function(e){var t='<div class="bkpc-restore-preview-modal">',t=(t=(t=(t=(t=(t+='<div class="bkpc-modal-overlay"></div>')+'<div class="bkpc-modal-content">'+'<div class="bkpc-modal-header">')+"<h2>Validation Failed</h2>"+'<button class="bkpc-modal-close">&times;</button>')+"</div>"+'<div class="bkpc-modal-body">')+'<div class="bkpc-preview-section bkpc-danger">'+"<h3>Errors</h3>")+("<p>"+e.message+"</p>");e.validation&&e.validation.errors&&0<e.validation.errors.length&&(t+="<ul>",e.validation.errors.forEach(function(e){t+="<li>"+e+"</li>"}),t+="</ul>"),t+='</div></div><div class="bkpc-modal-footer"><button class="button bkpc-modal-close">Close</button></div></div></div>',s("body").append(t),s(".bkpc-modal-close, .bkpc-modal-overlay").on("click",r.closeRestoreModal)},r.closeRestoreModal=function(e){e.preventDefault(),s(".bkpc-restore-preview-modal").remove()},r.confirmRestore=function(e){e.preventDefault();var e=s(e.currentTarget).data("uuid");s(".bkpc-restore-preview-modal").remove(),"function"==typeof r.restoreBackup&&(e=s('form#restore-backup input[name="uuid"][value="'+e+'"]').closest("form").find('button[name="restore-backup"]')).length&&r.restoreBackup({currentTarget:e[0],preventDefault:function(){}})},r.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})},window.BKPC=r},995:()=>{window.BKPC=window.BKPC||{};var e=window.BKPC;e.uuid=null}},o={};function n(e){var t=o[e];return void 0!==t||(t=o[e]={exports:{}},a[e](t,t.exports,n)),t.exports}n(995),n(891),n(62),n(698),n(743),n(297),n(558),n(307),n(243),n(466),n(39),n(707),n(934),n(107),n(239),n(333),n(542),n(985),n(611),n(400),(e=jQuery)(document).on("click",".bkpc-notice-dismiss",BKPC.dismissNotice),e(document).on("click",".bkpc-drawer-toggle",BKPC.toggleDrawer),e(document).on("click",".bkpc-advanced-options-toggle",BKPC.toggleAdvancedOptions),e(document).on("click",".bkpc-add-find-replace-row",BKPC.addFindReplaceRow),e(document).on("click",".bkpc-remove-find-replace-row",BKPC.removeFindReplaceRow),e(document).on("click","#bkpc-reset-settings",BKPC.resetSettings),e(document).on("change",'.bkpc-custom-file-upload input[name="backup-file"]',BKPC.showCustomFileUploadURL),e(document).on("click",'button[name="create-backup"]',BKPC.createBackup),e(document).on("click",'button[name="delete-backup"]',BKPC.deleteBackup),e(document).on("click",'button[name="delete-all-backups"]',BKPC.deleteAllBackups),e(document).on("click",'button[name="download-backup"]',BKPC.downloadBackup),e(document).on("click",'button[name="export-backup"]',BKPC.exportBackup),e(document).on("click",".bkpc-export-download",BKPC.exportDownloadCleanup),e(document).on("click",'button[name="restore-backup"]',BKPC.initiateRestore),e(document).on("click",'button[name="upload-backup"]',BKPC.uploadBackup)})();